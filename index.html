<!DOCTYPE>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta content="charset=UTF-8"/>
<title>The Banquet Scene - Interactive 3D View</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<!--STYLESHEET-->
<link type="text/css" rel="stylesheet" href="stylesheet/3dhop.css"/>
<link type="text/css" rel="stylesheet" href="stylesheet/banquet.css"/>
<!--SPIDERGL-->
<script type="text/javascript" src="js/spidergl.js"></script>
<!--JQUERY-->
<script type="text/javascript" src="js/jquery.js"></script>
<!--PRESENTER-->
<script type="text/javascript" src="js/presenter.js"></script>
<!--3D MODELS LOADING AND RENDERING-->
<script type="text/javascript" src="js/nexus.js"></script>
<script type="text/javascript" src="js/ply.js"></script>
<!--TRACKBALLS-->
<script type="text/javascript" src="js/trackball_turntable.js"></script>
<script type="text/javascript" src="js/trackball_turntable_pan.js"></script>
<script type="text/javascript" src="js/trackball_pantilt.js"></script>
<script type="text/javascript" src="js/trackball_sphere.js"></script>
<!--UTILITY-->
<script type="text/javascript" src="js/init.js"></script>
<!--PROJECT SPECIFIC-->
<script type="text/javascript" src="js/BanquetScene.js"></script>
<!--WebRTIViewer-->
<link type="text/css" href="stylesheet/ui-lightness/jquery-ui-1.10.3.custom.css" rel="Stylesheet">
<link type="text/css" href="stylesheet/webrtiviewer.css" rel="Stylesheet">
<script type="text/javascript" src="js/js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="js/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/js/pep.min.js"></script>

<script type="text/javascript" src="js/spidergl/spidergl.min.js"></script>
<script type="text/javascript" src="js/spidergl/multires.min.js"></script>
</head>
<body>

<!--
 <audio controls autoplay muted>
   <source src="sounds/birds-in-the-morning-24147.mp3" type="audio/mpeg">
 </audio>
-->

<div id="3dhop" class="tdhop" onmousedown="if (event.preventDefault) event.preventDefault()"><div id="tdhlg"></div>
 <div id="toolbar">
  <img id="home"        title="Home"                   src="skins/banquetscene/home.png"/><br/>
<!--ZOOM-->
  <img id="zoomin"      title="Zoom In"                src="skins/banquetscene/zoomin.png"/><br/>
  <img id="zoomout"     title="Zoom Out"               src="skins/banquetscene/zoomout.png"/><br/>
<!--ZOOM-->
<!--LIGHTING-->
  <img id="lighting_off" title="Enable Lighting"       src="skins/banquetscene/lighting_off.png" style="position:absolute; visibility:hidden;"/>
  <img id="lighting"     title="Disable Lighting"      src="skins/banquetscene/lighting.png"/><br/>
<!--LIGHTING-->
<!--LIGHT-->
  <img id="light_on"    title="Disable Light Control"  src="skins/banquetscene/lightcontrol_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="light"       title="Enable Light Control"   src="skins/banquetscene/lightcontrol.png"/><br/>
<!--LIGHT-->
<!--HOTSPOTS-->
<!--
  <img id="hotspot_on"  title="Hide Hotspots"          src="skins/banquetscene/pin_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="hotspot"     title="Show Hotspots"          src="skins/banquetscene/pin.png"/><br/>
-->
<!--HOTSPOTS-->
<!--CLICKABLE INSTANCES-->
  <img id="clickinstances_on"  title="Hide Hotspot Buttons"          src="skins/banquetscene/pin_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="clickinstances"     title="Show Hotspot Buttons"          src="skins/banquetscene/pin.png"/><br/>
<!--CLICKABLE INSTANCES-->
<!--MEASURE-->
  <img id="measure_on"  title="Disable Measure Tool"   src="skins/banquetscene/measure_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="measure"     title="Enable Measure Tool"    src="skins/banquetscene/measure.png"/><br/>
<!--MEASURE-->
<!--POINT PICKING-->
<!--
  <img id="pick_on"     title="Disable PickPoint Mode" src="skins/banquetscene/pick_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="pick"        title="Enable PickPoint Mode"  src="skins/banquetscene/pick.png"/><br/>
-->
<!--POINT PICKING-->
<!--SECTIONS-->
  <img id="sections_on" title="Disable Plane Sections" src="skins/banquetscene/sections_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="sections"    title="Enable Plane Sections"  src="skins/banquetscene/sections.png"/><br/>
<!--SECTIONS-->
<!--COLOR-->
  <img id="color_on"    title="Disable Color Reconstruction"    src="skins/banquetscene/color_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="color"       title="Enable Color Reconstruction"     src="skins/banquetscene/color.png"/><br/>
<!--COLOR-->
<!--CAMERA-->
<!--
  <img id="perspective"  title="Perspective Camera"    src="skins/banquetscene/perspective.png" style="position:absolute; visibility:hidden;"/>
  <img id="orthographic" title="Orthographic Camera"   src="skins/banquetscene/orthographic.png"/><br/>
-->
<!--CAMERA-->
<!--SCREENSHOT-->
  <img id="screenshot"  title="Save Screenshot"         src="skins/banquetscene/screenshot.png"/><br/>
<!--SCREENSHOT-->
<!--FULLSCREEN-->
  <img id="full_on"     title="Exit Full Screen"       src="skins/banquetscene/full_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="full"        title="Full Screen"            src="skins/banquetscene/full.png"/><br/>
<!--FULLSCREEN-->
<!--IMPRINT-->
  <img id="imprint_on" title="Hide Imprint"           src="skins/banquetscene/imprint_on.png" style="position:absolute; visibility:hidden;"/>
  <img id="imprint"    title="Show Imprint"           src="skins/banquetscene/imprint.png"/><br/>
<!--IMPRINT-->
 </div>

 <div id="toolbar" class="InstanceMenu" style="display: none;">
   <!--KING ASHURBANIPAL-->
     <img id="king_on"      title="Turn info off"                src="skins/banquetscene/king_on.png" style="position:absolute; visibility:hidden;"/>
     <img id="king"         title="King Ashurbanipal"            src="skins/banquetscene/king.png"/><br/>
   <!--KING ASHURBANIPAL-->
   <!--QUEEN LIBALLI-SHARRAT-->
     <img id="queen_on"      title="Turn info off"                src="skins/banquetscene/queen_on.png" style="position:absolute; visibility:hidden;"/>
     <img id="queen"         title="Queen Liballi-Sharrat"        src="skins/banquetscene/queen.png"/><br/>
   <!--QUEEN LIBALLI-SHARRAT-->
   <!--KING TEUMMAN-->
     <img id="teumman_on"      title="Turn info off"                src="skins/banquetscene/teumman_on.png" style="position:absolute; visibility:hidden;"/>
     <img id="teumman"         title="King Teumman"                 src="skins/banquetscene/teumman.png"/><br/>
   <!--KING TEUMMAN-->
   <!--FAUNA-->
     <img id="fauna_on"      title="Turn info off"                src="skins/banquetscene/fauna_on.png" style="position:absolute; visibility:hidden;"/>
     <img id="fauna"         title="Fauna"                        src="skins/banquetscene/fauna.png"/><br/>
   <!--FAUNA-->
   <!--FLORA-->
     <img id="flora_on"      title="Turn info off"                src="skins/banquetscene/flora_on.png" style="position:absolute; visibility:hidden;"/>
     <img id="flora"         title="Flora"                        src="skins/banquetscene/flora.png"/><br/>
   <!--FLORA-->
 </div>

<!--MEASURE-->
 <div id="measure-box" class="output-box">Measured length<hr/><span id="measure-output" class="output-text" onmousedown="event.stopPropagation()">0.0</span></div>
<!--MEASURE-->

<!--POINT PICKING-->
<!--
 <div id="pickpoint-box" class="output-box">XYZ picked point<hr/><span id="pickpoint-output" class="output-text" onmousedown="event.stopPropagation()">[ 0 , 0 , 0 ]</span></div>
-->
<!--POINT PICKING-->

<!--SECTIONS-->
 <div id="sections-box" class="output-box">
  <table class="output-table" onmousedown="event.stopPropagation()">
	<tr><td>Plane</td><td>Position</td><td>Flip</td></tr>
	<tr>
		<td><img   id="xplane_on"    title="Disable X Axis Section" src="skins/icons/sectionX_on.png" onclick="sectionxSwitch()" style="position:absolute; visibility:hidden; border:1px inset;"/>
			<img   id="xplane"       title="Enable X Axis Section"  src="skins/icons/sectionX.png"  onclick="sectionxSwitch()"/><br/></td>
		<td><input id="xplaneSlider" class="output-input"  type="range"    title="Move X Axis Section Position"/></td>
		<td><input id="xplaneFlip"   class="output-input"  type="checkbox" title="Flip X Axis Section Direction"/></td></tr>
	<tr>
		<td><img   id="yplane_on"    title="Disable Y Axis Section" src="skins/icons/sectionY_on.png" onclick="sectionySwitch()" style="position:absolute; visibility:hidden; border:1px inset;"/>
			<img   id="yplane"       title="Enable Y Axis Section"  src="skins/icons/sectionY.png"  onclick="sectionySwitch()"/><br/></td>
		<td><input id="yplaneSlider" class="output-input"  type="range"    title="Move Y Axis Section Position"/></td>
		<td><input id="yplaneFlip"   class="output-input"  type="checkbox" title="Flip Y Axis Section Direction"/></td></tr>
	<tr>
		<td><img   id="zplane_on"    title="Disable Z Axis Section" src="skins/icons/sectionZ_on.png" onclick="sectionzSwitch()" style="position:absolute; visibility:hidden; border:1px inset;"/>
			<img   id="zplane"       title="Enable Z Axis Section"  src="skins/icons/sectionZ.png"  onclick="sectionzSwitch()"/><br/></td>
		<td><input id="zplaneSlider" class="output-input"  type="range"    title="Move Y Axis Section Position"/></td>
		<td><input id="zplaneFlip"   class="output-input"  type="checkbox" title="Flip Z Axis Section Direction"/></td></tr></table>
  <table class="output-table" onmousedown="event.stopPropagation()" style="text-align:right;">
	<tr>
	 <td>Show planes<input id="showPlane" class="output-input" type="checkbox" title="Show Section Planes" style="bottom:-3px;"/></td>
	 <td>Show edges<input  id="showBorder" class="output-input" type="checkbox" title="Show Section Edges" style="bottom:-3px;"/></td></tr></table>
 </div>
<!--SECTIONS-->

<!--TEXTBOX-->
  <!--<div class="text-box-wrapper">-->
    <div class="text-box" id="Flora">
      <table>
        <tr>
          <td><h2>Neo-Assyrian Flora</h2></td>
        </tr>
        <tr>
          <td>
            Loremm ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
          </td>
        </tr>
      </table>
    </div>
  <!--</div>-->

  <!--<div class="text-box-wrapper">-->
    <div class="text-box" id="Teumman">
      <table>
        <tr>
          <td><h2>The head of Teumman</h2></td>
        </tr>
        <tr>
          <td>
            <p>In the tree to the left, we can identify a head hanging from its branches. This head has been identified belonging to the Elamite king Teumman. He ruled during the 7th century BCE and is best known for his involvement in conflicts with the Assyrian Empire. Teumman's reign was marked by strained relations with the powerful Assyrian king Ashurbanipal.</p>
            <p>Tensions between Elam and Assyria escalated when Teumman, according to Ashurbanipal, challenged Assyrian authority. In 653 BCE, Ashurbanipal led a military campaign against Elam in the battle of Til-Tuba:</p>
            <p class="Quote">'The defeat of the troops of Teumman, king of Elam. At Til-Tuba, Assurbanipal, great king, strong king, king of the world, king of Assyria, defeated countless of his warriors and threw down their corpses.'<br>
              - Russell 1999, 159.</p>
            <p>Teumman's death marked a turning point in the struggle between Elam and Assyria. His defeat weakened Elam's power and allowed Assyria to maintain its dominance in the region. The fall of Teumman demonstrated the military prowess of the Assyrians under Ashurbanipal's rule. The Neo-Assyrian king brought Teumman’s head as a war trophy back to his capital:</p>
            <p class="Quote">'[I], Assurbanipal, king of Assyria, entered joyfully into Nineveh with the severed head of Teumman, [king of] Elam, who I defeated with the help of Assur.'<br>
              - Russell 1999, 161.</p>
          </td>
        </tr>
      </table>
    </div>
  <!--</div>-->

  <!--<div class="text-box-wrapper">-->
    <div class="text-box" id="Fauna">
      <table>
        <tr>
          <td><h2>Animals depicted in the Banquet Scene</h2></td>
        </tr>
        <tr>
          <td>
            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
          </td>
        </tr>
      </table>
    </div>
  <!--</div>-->

  <!--<div class="text-box-wrapper">-->
      <div class="text-box" id="King">
        <table>
          <tr>
            <td><h2>King Ashurbanipal</h2></td>
          </tr>
          <tr>
            <td>
              Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
            </td>
          </tr>
        </table>
      </div>
  <!--</div>-->

  <!--<div class="text-box-wrapper">-->
      <div class="text-box" id="Queen">
        <table>
          <tr>
            <td><h2>Queen Liballi-sharrat</h2></td>
          </tr>
          <tr>
            <td>
              Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
            </td>
          </tr>
        </table>
      </div>
  <!--</div>-->
<!--TEXTBOX-->

<!--RTI-->
<!--
  <div id="viewerCont" style="position: absolute; top: 10px; left: 10px">
    <script  type="text/javascript">
      createRtiViewer("viewerCont", "rti/teumman", 900, 600);
    </script>
  </div>
-->
<!--RTI-->

<!--IMPRINT-->
  <div id="imprint_box">
    <table>
      <tr>
        <td colspan=3><h2>Project Info</h2></td>
      </tr>
      <tr>
        <td colspan=3>This project was a cooperation between the Institute of Near Eastern Archaeology of the Free University of Berlin and the Department of Digital and Computational Archaeology of the Archaeological Institute at the University of Cologne. It was supported by the Trustees of the British Museum, who kindly granted us access to the object presented here. The scans of the object were carried out in February 2023 and the website was created during the course of the same year.</td>
      </tr>
      <tr>
        <td style="padding-top: 20px;"><b>Idea & Content:</b></td>
        <td colspan =2 style="padding-top: 20px;"><a href="https://www.geschkult.fu-berlin.de/e/vaa/vaa/mitarbeiter/Professorinnen_und_Professoren/bonatz.html" target="_new">Prof. Dr. Dominik Bonatz</a> (Freie Universität Berlin)</td>
      </tr>
      <tr>
        <td><b>Digital Scan & Online Realization:</b></td>
        <td colspan=2><a href="https://archaeologie.phil-fak.uni-koeln.de/personen/wissenschaftliche-mitarbeiter/assistenten-innen/dr-sebastian-hageneuer" target="_new">Dr. Sebastian Hageneuer</a> (University of Cologne)</td>
      </tr>
      <tr>
        <td><b>Contact at the British Museum:</b></td>
        <td>Dr. Sébastien Rey & Dr. Nancy Highcock</td>
      </tr>
      <tr>
        <td colspan=3 style="padding-top: 20px;">This project is published on <a href="https://github.com/sebastian81/BanquetScene" target="_new">GitHub</a> under the GNU General Public License v3.0</td>
      </tr>
      <tr>
        <td style="padding-top: 20px;"><a href="https://www.fu-berlin.de/" target="_new"><img src="images/Logo_FUBerlin.png" height=60></a></td>
        <td style="padding-top: 20px;"><a href="https://www.uni-koeln.de/" target="_new"><img src="images/Logo_UzK.png" height=70></a></td>
        <td style="padding-top: 20px;"><a href="https://www.britishmuseum.org/" target="_new"><img src="images/Logo_BM.png" height=60></a></td>
      </tr>
    </table>
  </div>
<!--IMPRINT-->

  <canvas id="draw-canvas" style="background: linear-gradient(0deg, rgba(87,108,108,1) 0%, rgba(209,228,216,1) 100%);"/>
</div>
</body>

<script type="text/javascript">
var presenter = null;

function setup3dhop() {
	presenter = new Presenter("draw-canvas");

	presenter.setScene({
		meshes: {
			"BanquetScene" : { url: "models/SfM_DS04_DecimatedModel_2M_3DHOP.nxz" },
      "BanquetScenePainted" : { url: "models/SfM_DS04_DecimatedModel_2M_PAINTED.nxz" }
/*
      "BanquetSceneRelief" : { url: "models/BanquetSceneRelief.nxz" },
      "Hotspot_King" : { url: "models/Hotspot_King.nxs" },
      "Hotspot_Queen": { url: "models/Hotspot_Queen.nxs" },
      "Hotspot_Teumman": { url: "models/Hotspot_Teumman.nxs" },
      "Hotspot_Fauna": { url: "models/Hotspot_Fauna.nxs" },
      "Hotspot_Flora": { url: "models/Hotspot_Flora.nxs" }
*/
		},
		modelInstances : {
      "model_BanquetSceneRelief" : {
				mesh  : "BanquetScene",
				color : [0.8, 0.7, 0.75]
			},
      "model_BanquetSceneReliefPainted" : {
				mesh  : "BanquetScenePainted",
				color : [0.8, 0.7, 0.75],
        visible: false
			}
      /*
      "model_BanquetSceneRelief" : {
				mesh  : "BanquetSceneRelief",
				color : [0.8, 0.7, 0.75],
        tags: ["Scan"]
			},
      "model_Hotspot_King" : {
				mesh  : "Hotspot_King",
				color : [0.73, 0.66, 0.57],
        tags: ["Scan"]
			},
      "model_Hotspot_Queen" : {
				mesh  : "Hotspot_Queen",
				color : [0.73, 0.66, 0.57],
        tags: ["Scan"]
			},
      "model_Hotspot_Teumman" : {
				mesh  : "Hotspot_Teumman",
				color : [0.73, 0.66, 0.57],
        tags: ["Scan"]
			},
      "model_Hotspot_Fauna" : {
				mesh  : "Hotspot_Fauna",
				color : [0.73, 0.66, 0.57],
        tags: ["Scan"]
			},
      "model_Hotspot_Flora" : {
				mesh  : "Hotspot_Flora",
				color : [0.55, 0.76, 0.61],
        tags: ["Scan"]
			}
      */
		},
		 trackball: {
		 	 type : TurntablePanTrackball,
			 trackOptions : {
				 startPhi: 0,
				 startTheta: 2.5,
				 startDistance: 1,
				 minMaxPhi: [-85, 85],
				 minMaxTheta: [-70.0, 70.0],
				 minMaxDist: [0.5, 2.0]
			 }
		 }
	});

//--MEASURE--
	presenter._onEndMeasurement = onEndMeasure;
//--MEASURE--

//--POINT PICKING--
	//--presenter._onEndPickingPoint = onEndPick;
//--POINT PICKING--

//--HOTSPOTS--
  //presenter._onPickedInstance = onPickedInstance;
  //presenter._onEnterInstance = onEnterInstance;
  //presenter._onLeaveInstance = onLeaveInstance;
//--HOTSPOTS--

//--SECTIONS--
	sectiontoolInit();
//--SECTIONS--
}

function actionsToolbar(action) {
	if(action=='home') presenter.animateToTrackballPosition([0, 2.5, 0, 0, 0, 1]);
//--FULLSCREEN--
	else if(action=='full'  || action=='full_on') fullscreenSwitch();
//--FULLSCREEN--
//--ZOOM--
	else if(action=='zoomin') presenter.zoomIn();
	else if(action=='zoomout') presenter.zoomOut();
//--ZOOM--
//--LIGHTING--
	else if(action=='lighting' || action=='lighting_off') { presenter.enableSceneLighting(!presenter.isSceneLightingEnabled()); lightingSwitch(); }
//--LIGHTING--
//--LIGHT--
	else if(action=='light' || action=='light_on') { presenter.enableLightTrackball(!presenter.isLightTrackballEnabled()); lightSwitch(); }
//--LIGHT--
//--CLICKABLE INSTANCES--
	else if(action=='clickinstances' || action=='clickinstances_on') { /* presenter.enableOnHover(!presenter.isOnHoverEnabled()); */ InstancesSwitch('clickinstances'); hideAllHotspotTextboxes(); toggleInstanceMenu(); }
//--CLICKABLE INSTANCES--
//--CLICKABLE INSTANCES KING ASHURBANIPAL--
	else if(action=='king' || action=='king_on') { InstancesSwitch('king'); TextboxSwitch('King'); }
//--CLICKABLE INSTANCES KING ASHURBANIPAL--
//--CLICKABLE INSTANCES QUEEN LIBALLI-SHARRAT--
	else if(action=='queen' || action=='queen_on') { InstancesSwitch('queen'); TextboxSwitch('Queen'); }
//--CLICKABLE INSTANCES QUEEN LIBALLI-SHARRATL--
//--CLICKABLE INSTANCES KING TEUMMAN--
	else if(action=='teumman' || action=='teumman_on') { InstancesSwitch('teumman'); TextboxSwitch('Teumman'); }
//--CLICKABLE INSTANCES KING TEUMMAN--
//--CLICKABLE INSTANCES FAUNA--
	else if(action=='fauna' || action=='fauna_on') { InstancesSwitch('fauna'); TextboxSwitch('Fauna'); }
//--CLICKABLE INSTANCES FAUNA--
//--CLICKABLE INSTANCES FLORA--
	else if(action=='flora' || action=='flora_on') { InstancesSwitch('flora'); TextboxSwitch('Flora'); }
//--CLICKABLE INSTANCES FLORA--
//--CAMERA--
  //--else if(action=='perspective' || action=='orthographic') { presenter.toggleCameraType(); cameraSwitch(); }
//--CAMERA--
//--COLOR--
	else if(action=='color' || action=='color_on') { colorSwitch(); togglePaintedModel(); }
//--COLOR--
//--MEASURE--
	else if(action=='measure' || action=='measure_on') { presenter.enableMeasurementTool(!presenter.isMeasurementToolEnabled()); measureSwitch(); }
//--MEASURE--
//--POINT PICKING--
	//--else if(action=='pick' || action=='pick_on') { presenter.enablePickpointMode(!presenter.isPickpointModeEnabled()); pickpointSwitch(); }
//--POINT PICKING--
//--SCREENSHOT--
	else if(action=='screenshot') presenter.saveScreenshot();
//--SCREENSHOT--
//--SECTIONS--
	else if(action=='sections' || action=='sections_on') { sectiontoolReset(); sectiontoolSwitch(); }
//--SECTIONS--
//--IMPRINT--
	else if(action=='imprint' || action=='imprint_on') { ImprintSwitch(); }
//--IMPRINT--
}

//--MEASURE--
function onEndMeasure(measure) {
	// measure.toFixed(2) sets the number of decimals when displaying the measure
	// depending on the model measure units, use "mm","m","km" or whatever you have
	$('#measure-output').html(measure.toFixed(2) + "cm");
}
//--MEASURE--

//--PICKPOINT--
/*
function onEndPick(point) {
	// .toFixed(2) sets the number of decimals when displaying the picked point
	var x = point[0].toFixed(2);
	var y = point[1].toFixed(2);
	var z = point[2].toFixed(2);
    $('#pickpoint-output').html("[ "+x+" , "+y+" , "+z+" ]");
}
*/
//--PICKPOINT--

//--PICK HOTSPOT--
/*
function onPickedInstance(id) {
  if (jQuery('#clickinstances_on').css("visibility")=="visible") {
    switch(id) {
       case 'model_Hotspot_King' : presenter.animateToTrackballPosition([2.58, 2.05, 0.31, 0.1, -0.06, 0.52]); TextboxSwitch('King'); break;
       case 'model_Hotspot_Queen' : presenter.animateToTrackballPosition([14.72, 4.69, 0.13, 0, 0, 0.52]); TextboxSwitch('Queen'); break;
       case 'model_Hotspot_Teumman' : presenter.animateToTrackballPosition([16.1, 15.0, -0.55, 0.2, 0.14, 0.5]); TextboxSwitch('Teumman'); break;
       case 'model_Hotspot_Fauna' : presenter.animateToTrackballPosition([1.43, 7.1, -0.4, 0.2, 0, 0.5]); TextboxSwitch('Fauna'); break;
       case 'model_Hotspot_Flora' : presenter.animateToTrackballPosition([-15.18, -7.12, -0.27, 0, 0, 0.88]); TextboxSwitch('Flora'); break;
    }
  }
}

function onEnterInstance(id) {
  if (jQuery('#clickinstances_on').css("visibility")=="visible") {
    switch(id) {
       case 'model_Hotspot_King' : HighlightOn(id); break;
       case 'model_Hotspot_Queen' : HighlightOn(id); break;
       case 'model_Hotspot_Teumman' : HighlightOn(id); break;
       case 'model_Hotspot_Fauna' : HighlightOn(id); break;
       case 'model_Hotspot_Flora' : HighlightOn(id); break;
    }
  }
}
function onLeaveInstance(id) {
  if (jQuery('#clickinstances_on').css("visibility")=="visible") {
    switch(id) {
       case 'model_Hotspot_King' : HighlightOff(id); break;
       case 'model_Hotspot_Queen' : HighlightOff(id); break;
       case 'model_Hotspot_Teumman' : HighlightOff(id); break;
       case 'model_Hotspot_Fauna' : HighlightOff(id); break;
       case 'model_Hotspot_Flora' : HighlightOff(id); break;
    }
  }
}
*/
//--PICK HOTSPOT--

//--LOGGING POSITION--
function log(msg) {
	document.getElementById("log-text").innerHTML += msg + "\n";
	document.getElementById("log-text").scrollTop = document.getElementById("log-text").scrollHeight;
}
//--LOGGING POSITION--

$(document).ready(function(){
	init3dhop();

	setup3dhop();
});
</script>
<button type="button" onclick="log(presenter.getTrackballPosition());">Get Trackball Position</button>
<textarea id="log-text" style="width:400px; height:160px; resize: none" readonly=""></textarea>
</html>
